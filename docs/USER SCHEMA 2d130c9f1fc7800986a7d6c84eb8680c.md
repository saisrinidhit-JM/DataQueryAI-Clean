# USER SCHEMA

| Field Name | Type | Required | Default | Reference / Notes | Description |
| --- | --- | --- | --- | --- | --- |
| `did` | String | Yes | — | — | decentralized id of user |
| `number` | String | Yes | — | Indexed | User mobile number |
| `existingUser` | Boolean | No | `false` | — | Value will be true when the user login second time. |
| `gender` | String | No | `null` | — | User gender |
| `date_of_birth` | String | No | `null` | — | User date of birth |
| `current_city` | String | No | `null` | — | Current city |
| `isDeleted` | Boolean | No | `false` | — | Soft delete flag |
| `age` | Number | No | — | — | User age |
| `state` | String | No | — | — | User state |
| `region` | String | No | — | — | User region |
| `user_wallet` | Number | No | `0` | — | Wallet balance |
| `device_token` | String | No | — | — | Mobile push notification token |
| `web_token` | String | No | — | — | Web push notification token |
| `notification_status` | Boolean | No | — | — | Global notification enable flag |
| `notification_settings.new_survey` | Boolean | No | `false` | — | New survey notifications |
| `notification_settings.app_updates` | Boolean | No | `false` | — | App update notifications |
| `notification_settings.streak_updates` | Boolean | No | `false` | — | Streak-related notifications |
| `notification_settings.referral_updates` | Boolean | No | `false` | — | Referral notifications |
| `notification_settings.panel_updates` | Boolean | No | `false` | — | Panel notifications |
| `location` | Object | No | — | — | Location metadata |
| `last_active_page` | String | No | `null` | — | Last active page |
| `last_active_data.date` | Date | No | — | — | Last active date |
| `last_active_data.platform` | String | No | — | — | Last active platform |
| `lastLogin` | Date | No | — | — | Last login timestamp |
| `onboarded_from` | String | No | — | — | Onboarding source |
| `merchantUserId` | String | No | — | — | External merchant user ID |
| `md5Number` | String | No | — | — | Hashed mobile number |
| `isLoggedin` | Boolean | No | — | — | Login status |
| `isIRCTCUserWithTxn` | Boolean | No | — | — | IRCTC user with transaction |
| `guestUser` | Boolean | No | — | — | Guest user flag(IRCTC) |
| `referer` | String | No | — | — | Referral source from request header |
| `registeredIn` | String | No | — | "superj-app”,"irctc_tourism”,"irctc_air” | User onboarded platform |
| `platformType` | String | No | — | — | Platform type (web/app) |
| `appUser` | Boolean | No | `false` | — | Indicates app user |
| `appUserSince` | Date | No | — | — | App user since date |
| `appLoginTime` | Date | No | — | — | Last app login time |
| `source` | ObjectId | No | — | `Business` | Onboarded platform ID |
| `everNoteId` | String | No | — | — | Device unique ID |
| `oldDid.did` | String | No | `null` | — | (Rubix DID) |
| `oldDid.date` | Date | No | — | — | DID migration date |
| `deletedAt` | Date | No | — | — | Soft delete timestamp |
| `isBlocked` | Boolean | No | `false` | — | User blocked flag |
| `zkFraud` | Boolean | No | `false` | — | ZK Fraud detection flag |
| `isZkVerified` | Boolean | No | `false` | — | ZK verification status |
| `logOutDate` | Date | No | — | — | User logout timestamp |
| `created_at` | Date | Auto | — | — | Record creation time |
| `modified_at` | Date | Auto | — | — | Record last update time |